/*! legenddigital.com.au - v1.0.0 - 2017-09-04 */
function AlertPop(a){var b={theme:"theme-default",title:'<span class="fs-16">操作</span>',content:'<article class="fs-14">操作提示</article>',closeBtn:!0,closeBtnHtml:'<span class="close"><i></i><i></i></span>',status:"warning",statusSize:"30",statusHtml:{warning:'<i class="fa fa-exclamation-circle color-warning"></i>',question:'<i class="fa fa-question-circle color-info"></i>',success:'<i class="fa fa-check-circle color-success"></i>',fail:'<i class="fa fa-times-circle color-danger"></i>'},btns:[["div.button.button-md.button-warning",["No"],!0,null],["div.button.button-md.button-primary",["Yes"],!0,null]],hide:!1};return this.ele={},this.settings=$.extend({},b,a),this.init(),this}function LoadPop(a){var b={theme:"pop-load-default",content:"加载中……",position:"top",hide:!1,wrapper:"body",animateIn:"fadeIn",animateOut:"fadeOut",callback:!1};return this.settings=$.extend({},b,a),this.ele={},this.init(),this}function TipPop(a){var b={content:"可手动关闭弹窗",place:!1,position:"top",closed:!0,closedHtml:'<span class="tip-close button button-circle button-sm button-success"><i class="fa fa-times"></i></span>',rounded:!1,hide:!1,animateIn:"bounce",animateOut:"fadeOutUp",status:"success",statusSize:"30",statusHtml:{warning:['<i class="fa fa-exclamation-circle mr10"></i>','<span class="tip-close button button-circle button-sm button-success"><i class="fa fa-times"></i></span>'],info:['<i class="fa fa-question-circle mr10"></i>','<span class="tip-close button button-circle button-sm button-success"><i class="fa fa-times"></i></span>'],success:['<i class="fa fa-check-circle mr10"></i>','<span class="tip-close button button-circle button-sm button-success"><i class="fa fa-times"></i></span>'],danger:['<i class="fa fa-times-circle mr10"></i>','<span class="tip-close button button-circle button-sm button-danger"><i class="fa fa-times"></i></span>'],primary:['<i class="fa fa-times-circle mr10"></i>','<span class="tip-close button button-circle button-sm button-primary"><i class="fa fa-times"></i></span>']}};return this.settings=$.extend({},b,a),this.init(),this}function Toast(a){var b={theme:"toast-default",wrapper:"body",hide:"2000",status:"success",statusHtml:{success:'<i class="fa fa-check"></i><p>已完成</p>',failed:'<i class="fa fa-check"></i><p>失败</p>',loading:'<i class="fa fa-circle-spinner fa-spin"></i><p>数据加载中……</p>'}};return this.ele={},this.settings=$.extend({},b,a),this.init(),this}function Legend(){return this}AlertPop.prototype={statusCur:function(a){var b=this;for(var c in b.settings.statusHtml)if(c==a)return b.settings.statusHtml[a]},nodeSplit:function(a){var b=a.split("."),c=b[0],d="";if(b.length>1)for(var e=1;e<=b.length-1;e++)d+=d+" "+b[e];return{nodeName:c,className:d}},init:function(){var a=this;a.ele.alertPopMask=$('<div class="alert-pop-mask '+a.settings.theme+'-alert-pop-mask"></div>'),a.ele.alertPopClose=$('<div class="alert-pop-close '+a.settings.theme+'-alert-pop-close">'+a.settings.closeBtnHtml+"</div>"),a.ele.alertPopHtml="",0==a.settings.title&&""==a.settings.title||(a.ele.alertPopHtml+='<div class="alert-pop-title">'+a.settings.title+"</div>"),0==a.settings.status&&""==a.settings.status||(a.ele.alertPopHtml+='<span class="status" style="font-size:'+a.settings.statusSize+'px">'+a.statusCur(a.settings.status)+"</span>"),0==a.settings.content&&""==a.settings.content||(a.ele.alertPopHtml+='<div class="alert-pop-content">'+a.settings.title+"</div>"),(0!=a.settings.btns||""!=a.settings.btns||a.settings.btns.length>0)&&(a.ele.alertPopHtml+='<div class="alert-pop-btns clearfix"></div>'),a.ele.alertPopHtml=$('<div class="alert-pop '+a.settings.theme+'-alert-pop"><div class="alert-pop-wrapper">'+a.ele.alertPopHtml+"</div></div>");for(var b=0;b<=a.settings.btns.length-1;b++){var c=a.settings.btns[b][0],d=a.settings.btns[b][1],e=(a.settings.btns[b][2],a.settings.btns[b][3],a.nodeSplit(c).nodeName),f=a.nodeSplit(c).className,g="";if("a"==e){var h=d[1];d[2];g=""==h||null==h||void 0==h?$('<a class="alert-pop-btn '+f+'" style="width:'+100/a.settings.btns.length+'%">'+d[0]+"</a>"):$('<a href="" class="alert-pop-btn '+f+'" style="width:'+100/a.settings.btns.length+'%">'+d[0]+"</a>")}else"div"==e&&(g=$('<div class="alert-pop-btn '+f+'" style="width:'+100/a.settings.btns.length+'%">'+d[0]+"</div>"));a.ele.alertPopHtml.find(".alert-pop-btns").append(g)}a.settings.closeBtn?$("body").append(a.ele.alertPopMask).append(a.ele.alertPopClose).append(a.ele.alertPopHtml):$("body").append(a.ele.alertPopMask).append(a.ele.alertPopHtml),a.events(),a.btnEvents(a.settings.btns),a.hideAuto()},hideAuto:function(){var a=this;0==a.settings.hide&&""==a.settings.hide||setTimeout(function(){a.destory()},a.settings.hide)},btnEvents:function(a){for(var b=this,c=0;c<=a.length-1;c++)!function(c){b.ele.alertPopHtml.find(".alert-pop-btn").eq(c).bind("click",function(){return null!=a[c][3]&&a[c][3](b),a[c][2]&&b.destory(),!1})}(c)},events:function(){var a=this;a.ele.alertPopMask.bind("click",function(){a.destory()}),a.ele.alertPopClose.bind("click",function(){a.destory()})},destory:function(){var a=this;$(a.ele.alertPopMask).fadeOut(function(){$(a.ele.alertPopMask).remove()}),$(a.ele.alertPopClose).fadeOut(function(){$(a.ele.alertPopClose).remove()}),$(a.ele.alertPopHtml).fadeOut(function(){$(a.ele.alertPopHtml).remove()})}},LoadPop.prototype={init:function(){var a=this,b=a.settings.theme+" pop-load"+a.settings.status;"body"!=a.settings.wrapper&&(b+=" no-body"),a.ele.loadPop=$('<div class="pop-load '+a.settings.theme+'"><div class="pop-load-box">'+a.settings.content+"</div></div>"),$(a.settings.wrapper).append(a.ele.loadPop),a.hide(),""!=a.settings.callback&&0!=a.settings.callback&&"none"!=a.settings.callback&&a.settings.callback(a)},hide:function(){var a=this;""!=a.settings.hide&&0!=a.settings.hide&&"none"!=a.settings.hide&&setTimeout(function(){$(a.ele.loadPop).fadeOut(function(){$(a.ele.loadPop).remove()})},a.settings.hide)}},TipPop.prototype={init:function(){var a=this,b="";"none"==a.settings.rounded&&0==a.settings.rounded&&""==a.settings.rounded||(b+="tip-"+a.settings.rounded+" "),"none"!=a.settings.status&&(b+="tip-"+a.settings.status+" "),a.settings.closed?a.tipPopHtml=$('<div class="tip-box clearfix '+b+'"><span class="tip-status">'+a.settings.statusHtml[a.settings.status]+"</span>"+a.settings.content+a.settings.closedHtml+"</div>"):a.tipPopHtml=$('<div class="tip-box clearfix '+b+'"><span class="tip-status">'+a.settings.statusHtml[a.settings.status]+"</span>"+a.settings.content+"</div>"),""==a.settings.position&&"none"==a.settings.place&&0==a.settings.place||(a.tipPopHtml.css({position:"fixed",left:"0",right:"0"}),"top"==a.settings.position?a.tipPopHtml.css({top:"0"}):"center"==a.settings.position?a.tipPopHtml.css({top:"50%"}):"bottom"==a.settings.position&&a.tipPopHtml.css({bottom:"0"})),""==a.settings.animateIn&&"none"==a.settings.animateIn&&0==a.settings.animateIn||a.tipPopHtml.addClass("animated "+a.settings.animateIn),""==a.settings.place||"none"==a.settings.place||0==a.settings.place?$("body").append(a.tipPopHtml):$(a.settings.place).append(a.tipPopHtml),a.events(),a.hideAuto()},hideAuto:function(){var a=this;0!=a.settings.hide&&setTimeout(function(){a.destory()},a.settings.hide)},events:function(){var a=this;a.tipPopHtml.find(".tip-close").bind("click",function(){a.destory()})},destory:function(){var a=this;""==a.settings.animateIn||"none"==a.settings.animateIn||0==a.settings.animateIn?a.tipPopHtml.remove():(a.tipPopHtml.removeClass(a.settings.animateIn).addClass(a.settings.animateOut),setTimeout(function(){a.tipPopHtml.remove()},1e3))}},Toast.prototype={init:function(){var a=this,b=a.settings.theme+" toast"+a.settings.status;"body"!=a.settings.wrapper&&(b+=" no-body"),a.ele.toast=$('<div class="'+b+'" style="display:none;">'+a.settings.statusHtml[a.settings.status]+"</div>"),$(a.settings.wrapper).append(a.ele.toast),$(a.ele.toast).fadeIn(function(){a.events()})},events:function(){var a=this;"function"==typeof a.settings.callback?a.settings.callback(a):a.hide()},hide:function(){var a=this;setTimeout(function(){$(a.ele.toast).fadeOut(function(){$(this).remove()})},a.settings.hide)}},Legend.prototype.init=function(){this.tipClose(),this.pop.init()},Legend.prototype.setCookie=function(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="expires="+d.toUTCString();document.cookie=a+"="+b+"; "+e},Legend.prototype.getCookie=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(-1!=e.indexOf(b))return e.substring(b.length,e.length)}return""},Legend.prototype.delCookie=function(a){this.setCookie(a,"",-1)},Legend.prototype.pop={size:function(){$(".com-pop").css({height:"auto"});var a=$(".com-pop").outerHeight(!0);a>$(window).height()&&(a=$(window).height()),a%2!=0&&$(".com-pop").css({height:a+1})},close:function(){$(".com-pop, .com-pop-mask").fadeOut()},open:function(a){var b=this;""!=a?$(".change-"+a).show().siblings().hide():$(".change-name").eq(0).show().siblings().hide(),$(".com-pop, .com-pop-mask").fadeIn(function(){b.size()})},init:function(){var a=$(this);$(".com-pop-close, .com-pop-mask").bind("click",function(){a.close()})}},Legend.prototype.alertPop=function(a){return new AlertPop(a)},Legend.prototype.loadPop=function(a){return new LoadPop(a)},Legend.prototype.tipPop=function(a){return new TipPop(a)},Legend.prototype.toastPop=function(a){return new Toast(a)},Legend.prototype.evenHeight=function(a){$(a).outerHeight("auto");var b=$(a).outerHeight();b>=$(window).height()&&$(a).outerHeight($(window).height()),b%2!=0&&$(a).outerHeight(b+1)},Legend.prototype.tipClose=function(a){var b={animateIn:"fadeIn",animateOut:"fadeOut"},c=$.extend({},b,a);$("body .tip-close").each(function(){$(this).bind("click",function(){$(this).parent().removeClass(c.animateIn).addClass(c.animateOut),setTimeout(function(){$(this).parent().remove()},1e3)})})},function(a){window.legend=new Legend;var b=null;a(window).resize(function(){clearTimeout(b),b=setTimeout(function(){legend.pop.size()})})}(jQuery);